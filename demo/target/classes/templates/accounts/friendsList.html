
<html>
<head>
<script src="https://ajax.aspnetcdn.com/ajax/jQuery/jquery-3.3.1.min.js"></script>
</head>
	<h5 id="user"> </h5> 	<h2> Friends </h2>


	<script th:inline="javascript">
		/*<![CDATA[*/
		document.getElementById("user").innerHTML = /*[[${account.getUserID()}]]*/ '';	
		/*]]>*/
	</script>
	
	<form th:action="@{/accounts/friendAdd}"  method="post" th:object="${friend}">	
	<p><input type="text" th:field="*{userID}" /> <input type="submit" value="Add Friend" /></p>
	</form>
<body>	
  <table id="friends" class="table table-striped">
    <thead>
      <tr>
        <th>Player Id</th>
      </tr>
    </thead>
    <tbody>
      <tr th:each="friend : ${friends.friendList}" >
        <td th:text="${friend}"><span
          th:if="${friends.friendList == 0}">none</span></td>
          
 <form th:action="@{/accounts/chat}"  method="post" >         
		<td><input class="msgbtn" value="Chat" type="submit"/></td>
		</form>
		
<form th:action="@{/accounts/remove}"  method="post" >
	<td> <input class="btn" name="Remove" value="Remove" th:value="Remove" onclick="showTdSecond(this);" type="submit" id="remove"/>
	<script  th:inline="javascript">
	function showTdSecond(_this) {
	var friend = _this.parentNode.previousElementSibling.previousElementSibling.previousElementSibling.textContent;
	document.getElementById('remove').value = friend; 
 	alert(_this.parentNode.previousElementSibling.previousElementSibling.previousElementSibling.textContent);
	}
	</script>
	
	</td> 
</form>			
    </tr>
    </tbody>
  </table>
</body>
</html>
